{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst button = document.querySelector(\"button\");\nconst inputSearch = document.querySelector(\".search\");\nconst imagesGallery = document.querySelector(\".gallery\");\nconst form = document.querySelector('.form')\n\n// const submitSearchImages = form.addEventListener(\"submit\", function(e){\n  \n//   e.preventDefault();\n  \n//   fetchImages()\n//     //  .then((images) => renderImages(images))\n//     //  .catch((error) => console.log(error));\n// });\n\n// function fetchImages() {\n \n//   let inputSearchValue = inputSearch.value;\n//   const url = `https://pixabay.com/api/?key=42766573-a347fa67a5b7233d1286bfaa7&q=${inputSearchValue}&image_type=photo&orientation=horizontal&safesearch=true`;\n// if(inputSearchValue){\n//  return fetch(url)\n//  .then((response) => {\n//       if (!response.ok) {\n//         throw new Error(response.status);\n//         iziToast.error ({\n//           title: \"\",\n//           message: \"Sorry, there are no images matching your search query. Please try again!\",\n//         });\n//       }\n//       return response.json();\n//     }) \n//   .then(data => {\n//     const imagesData = {\n//       totalHits: data.totalHits, // Загальна кількість зображень, які задовольнили запит\n//       total: data.total, // Загальна кількість зображень у відповіді\n//       images: data.hits // Масив інформації зображень, які задовольнили критерії\n//     };\n    \n//     //renderUsers(data); \n//     function renderUsers(data) {\n//       const markup = images\n//         .map((image) => {\n//           return \n//           `<a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n      \n//           <img\n    \n//              class=\"gallery-image\"\n    \n//              src=\"${image.webformatURL}\"\n    \n//              alt=\"${image.tags}\"\n    \n//            />\n    \n//          </a>\n//         <ul>\n//          <li>Likes<span>\"${image.likes}\" </span></li>\n//          <li>Views<span>\"${image.views}\" </span></li>\n//          <li>Comments<span>\"${image.comments}\" </span></li>\n//          <li>Downloads<span>\"${image.downloads}\" </span></li>\n//          </ul>`;\n          \n//         })\n//         .join(\"\");\n//       imagesGallery.insertAdjacentHTML(\"beforeend\", markup);\n//       }\n    \n    \n//   })\n//   .catch(error => {\n//     console.log(error); // Обробка помилок\n  \n//   });\n// }\n// }\n\n\nconst submitSearchImages = form.addEventListener(\"submit\", function(e){\n  e.preventDefault();\n  fetchImages();\n});\n\nfunction fetchImages() {\n  let inputSearchValue = inputSearch.value;\n  const url = `https://pixabay.com/api/?key=42766573-a347fa67a5b7233d1286bfaa7&q=${inputSearchValue}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  if (inputSearchValue) {\n    fetch(url)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      }) \n      \n        .then(data => {\n          if (data.hits.length === 0) {\n              iziToast.error({\n                  title: \"\",\n                  message: \"Sorry, there are no images matching your search query. Please try again!\",\n              });\n          } else {\n            \n              const imagesData = {\n                totalHits: data.totalHits,\n                total: data.total,\n                images: data.hits\n              }\n              renderUsers(data.hits);\n          \n      \n            }       \n      })\n      \n      .catch(error => {\n        console.log(error);\n        iziToast.error({\n          title: \"\",\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n        });\n      });\n  }\n}\n\nfunction renderUsers(images) {\n  form.reset();\n  \n  const markup = images.map(image => {\n      return `<div class=\"card\"><a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n        </a>\n        <ul class=\"list\">\n          <li class=\"item\">Likes: <span>${image.likes}</span></li>\n          <li class=\"item\">Views: <span>${image.views}</span></li>\n          <li class=\"item\">Comments: <span>${image.comments}</span></li>\n          <li class=\"item\">Downloads: <span>${image.downloads}</span></li>\n        </ul></div>`\n    })\n    .join(\"\");\n\n  imagesGallery.innerHTML = markup;\n}"],"names":["inputSearch","imagesGallery","form","e","fetchImages","inputSearchValue","url","response","data","iziToast","renderUsers","error","images","markup","image"],"mappings":"svBASe,SAAS,cAAc,QAAQ,EAC9C,MAAMA,EAAc,SAAS,cAAc,SAAS,EAC9CC,EAAgB,SAAS,cAAc,UAAU,EACjDC,EAAO,SAAS,cAAc,OAAO,EA0EhBA,EAAK,iBAAiB,SAAU,SAASC,EAAE,CACpEA,EAAE,eAAc,EAChBC,GACF,CAAC,EAED,SAASA,GAAc,CACrB,IAAIC,EAAmBL,EAAY,MACnC,MAAMM,EAAM,qEAAqED,CAAgB,2DAE7FA,GACF,MAAMC,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EAEE,KAAKC,GAAQ,CACRA,EAAK,KAAK,SAAW,EACrBC,EAAS,MAAM,CACX,MAAO,GACP,QAAS,0EAC3B,CAAe,GAIYD,EAAK,UACTA,EAAK,MACJA,EAAK,KAEfE,EAAYF,EAAK,IAAI,EAInC,CAAO,EAEA,MAAMG,GAAS,CACd,QAAQ,IAAIA,CAAK,EACjBF,EAAS,MAAM,CACb,MAAO,GACP,QAAS,0EACnB,CAAS,CACT,CAAO,CAEP,CAEA,SAASC,EAAYE,EAAQ,CAC3BV,EAAK,MAAK,EAEV,MAAMW,EAASD,EAAO,IAAIE,GACf,mDAAmDA,EAAM,aAAa;AAAA,4CACvCA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,0CAGxCA,EAAM,KAAK;AAAA,0CACXA,EAAM,KAAK;AAAA,6CACRA,EAAM,QAAQ;AAAA,8CACbA,EAAM,SAAS;AAAA,oBAExD,EACA,KAAK,EAAE,EAEVb,EAAc,UAAYY,CAC5B"}