{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const imagesGallery = document.querySelector('.gallery');\nconst form = document.querySelector('.form');\n\nexport function renderUsers(images) {\n  form.reset();\n\n  const markup = images\n    .map(image => {\n      return `<div class=\"card\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n          </a>\n          <ul class=\"list\">\n            <li class=\"item\">Likes: <span>${image.likes}</span></li>\n            <li class=\"item\">Views: <span>${image.views}</span></li>\n            <li class=\"item\">Comments: <span>${image.comments}</span></li>\n            <li class=\"item\">Downloads: <span>${image.downloads}</span></li>\n          </ul>\n          </div>`;\n    })\n    .join('');\n\n  imagesGallery.innerHTML = markup;\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n}\n","//const { default: iziToast } = require('izitoast');\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst button = document.querySelector('button');\nconst inputSearch = document.querySelector('.search');\nconst loader = document.querySelector('.loader');\nimport { renderUsers } from './render-functions';\n\nconst hideLoader = () => {\n  loader.style.display = 'none';\n};\nhideLoader();\nexport function fetchImages() {\n  let inputSearchValue = inputSearch.value;\n  const url = `https://pixabay.com/api/?key=42766573-a347fa67a5b7233d1286bfaa7&q=${inputSearchValue}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  if (inputSearchValue) {\n    fetch(url)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n\n      .then(data => {\n        if (data.hits.length === 0) {\n          iziToast.error({\n            title: '',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n        } else {\n          const imagesData = {\n            totalHits: data.totalHits,\n            total: data.total,\n            images: data.hits,\n          };\n          renderUsers(data.hits);\n        }\n      })\n\n      .catch(error => {\n        console.log(error);\n      });\n  }\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImages } from './js/pixabay-api';\n\nconst button = document.querySelector('button');\nconst inputSearch = document.querySelector('.search');\nconst imagesGallery = document.querySelector('.gallery');\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\n\nconst gallery = new SimpleLightbox('.gallery a', {\n  captionDelay: 250,\n  captionsData: 'alt',\n});\n\nconst submitSearchImages = form.addEventListener('submit', function (e) {\n  e.preventDefault();\n\n  loader.style.display = 'flex';\n  imagesGallery.innerHTML = '';\n  // fetchImages();\n  try {\n    fetchImages();\n  } catch (error) {\n    iziToast.error({\n      color: 'red',\n      message: `:x: Sorry, there was a mistake. Please try again!`,\n      position: 'topRight',\n    });\n  } finally {\n    loader.style.display = 'none';\n  }\n\n  form.reset();\n});\n\n//   }// ______________________________;\n// mport iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n// import { OrbitSpinner } from 'epic-spinners';\n// import { renderImgs } from './js/render-functions';\n// import { fetchImg } from './js/pixabay-api';\n// export const setGallery = document.querySelector('ul.gallery');\n// export let url;\n// const inputfield = document.querySelector('input');\n// const inputBtn = document.querySelector('button');\n// const fillForm = document.querySelector('form');\n// let wishImgs;\n// const preloader = document.querySelector('.preloader');\n// // +++++++++++++++++++\n// const showLoader = () => {\n//   preloader.style.display = 'flex';\n// };\n// const hideLoader = () => {\n//   preloader.style.display = 'none';\n// };\n// const handleLoad = () => {\n//   document.body.classList.add('loaded');\n//   document.body.classList.remove('loaded_hiding');\n// };\n// // +++++++++++++++++++\n// inputBtn.addEventListener('click', async (event) => {\n//   event.preventDefault();\n//   wishImgs = inputfield.value.trim();\n//   if (!wishImgs.length) {\n//     iziToast.error({\n//       color: 'yellow',\n//       message: ` Please fill in the field for the search query.`,\n//       position: 'topRight',\n//     });\n//     setGallery.innerHTML = '';\n//     return;\n//   }\n//   const searchParams = new URLSearchParams({\n//     key: '22926721-5d20aa08498ffd1ff2f906542',\n//     q: wishImgs,\n//     image_type: 'photo',\n//     orientation: 'horizontal',\n//     safesearch: 'true',\n//   });\n//   url = `https://pixabay.com/api/?${searchParams}`;\n//   showLoader();\n//   try {\n//     const images = await fetchImg();\n//     renderImgs(images);\n//   } catch (error) {\n//     iziToast.error({\n//       color: 'red',\n//       message: `:x: Sorry, there was a mistake. Please try again!`,\n//       position: 'topRight',\n//     });\n//   } finally {\n//     hideLoader();\n//     handleLoad();\n//   }\n// });\n// window.onload = handleLoad;\n"],"names":["imagesGallery","form","renderUsers","images","markup","image","inputSearch","loader","hideLoader","fetchImages","inputSearchValue","url","response","data","iziToast","error","SimpleLightbox","e"],"mappings":"6vBAAA,MAAMA,EAAgB,SAAS,cAAc,UAAU,EACjDC,EAAO,SAAS,cAAc,OAAO,EAEpC,SAASC,EAAYC,EAAQ,CAClCF,EAAK,MAAK,EAEV,MAAMG,EAASD,EACZ,IAAIE,GACI;AAAA,wCAC2BA,EAAM,aAAa;AAAA,8CACbA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,4CAGxCA,EAAM,KAAK;AAAA,4CACXA,EAAM,KAAK;AAAA,+CACRA,EAAM,QAAQ;AAAA,gDACbA,EAAM,SAAS;AAAA;AAAA,iBAG1D,EACA,KAAK,EAAE,EAEVL,EAAc,UAAYI,EACT,IAAI,eAAe,YAAY,EACvC,QAAO,CAClB,CCpBe,SAAS,cAAc,QAAQ,EAC9C,MAAME,EAAc,SAAS,cAAc,SAAS,EAC9CC,EAAS,SAAS,cAAc,SAAS,EAGzCC,EAAa,IAAM,CACvBD,EAAO,MAAM,QAAU,MACzB,EACAC,IACO,SAASC,GAAc,CAC5B,IAAIC,EAAmBJ,EAAY,MACnC,MAAMK,EAAM,qEAAqED,CAAgB,2DAE7FA,GACF,MAAMC,CAAG,EACN,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EAEA,KAAKC,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBC,EAAS,MAAM,CACb,MAAO,GACP,QACE,0EACd,CAAW,GAGYD,EAAK,UACTA,EAAK,MACJA,EAAK,KAEfX,EAAYW,EAAK,IAAI,EAE/B,CAAO,EAEA,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,CACzB,CAAO,CAEP,CCrCe,SAAS,cAAc,QAAQ,EAC1B,SAAS,cAAc,SAAS,EACpD,MAAMf,EAAgB,SAAS,cAAc,UAAU,EACjDC,EAAO,SAAS,cAAc,OAAO,EACrCM,EAAS,SAAS,cAAc,SAAS,EAE/B,IAAIS,EAAe,aAAc,CAC/C,aAAc,IACd,aAAc,KAChB,CAAC,EAE0Bf,EAAK,iBAAiB,SAAU,SAAUgB,EAAG,CACtEA,EAAE,eAAc,EAEhBV,EAAO,MAAM,QAAU,OACvBP,EAAc,UAAY,GAE1B,GAAI,CACFS,GACD,MAAe,CACdK,EAAS,MAAM,CACb,MAAO,MACP,QAAS,oDACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRP,EAAO,MAAM,QAAU,MACxB,CAEDN,EAAK,MAAK,CACZ,CAAC"}